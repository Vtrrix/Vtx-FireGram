{"version":3,"sources":["img/delete.png","img/download.png","comps/Title.js","firebase/config.js","hooks/useStorage.js","comps/ProgressBar.js","comps/UploadForm.js","hooks/useFirestore.js","comps/imageGrid.js","comps/Modal.js","App.js","index.js"],"names":["module","exports","Title","className","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","projectStorage","projectFirestore","timestamp","FieldValue","serverTimestamp","useStorage","file","useState","progress","setProgress","error","setError","url","setUrl","useEffect","storageRef","ref","name","collectionRef","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","a","getDownloadURL","createdAt","add","ProgressBar","setFile","console","log","div","initial","width","animate","UploadForm","types","type","onChange","e","selected","target","files","includes","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","doc","push","data","id","ImageGrid","setSelectedImg","setSelectedImgKey","map","layout","whileHover","opacity","key","onClick","img","src","alt","transition","delay","Modal","selectedImg","selectedImgKey","classList","contains","delete","then","catch","deleteImg","href","download","downloadImg","y","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e38b83d9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADZElEQVR4nO2dvW7UQBRGzwIRDSgVSFAFRMczUEFHlRegASHECyChUKC8AgLBC6AUmyKiBSFBC1T8dIEaUZECkCAUuxarlT2esWd8r9nvSNMk9vj6Ozu2xuNsQAghhBBCCCGEEEIIe9aBe8Bb4AA4TGwH83235n2JBC4CX0gPval9nvcpIlgnb/hV2wdODngeo2WL/OFX7e6A5zFa3lFOwJsBz2O0dLnhxrbvA55HFBPrAmo4bPh5aq25+inKEesCVh0JMCbncGwa8v8rWbLTCDBGAoyRAGMkwBgJMKbUpGQUk6AAg9WvEWCMBBgjAcZIgDESYIwEGCMBxkiAMcesC5iTOvEpvf1gaAQYIwHGSIAxEmCMBBgjAcZIgDESYIwEGCMBxkiAMRJgjAQYIwHGSIAxqyzgvXUBJWn6Gy0v238EzmTs3x2eBbSF36V/d3gVEBN+l/7d4VFAbPgA9xP7d4c3ASnhV9RJGA3eBJyOLXyJ7cj+3eFNQBMT4FTLNosSRsMYBEyAB8y+meV8y7bV5agPa8AOsNmznyi8C5gAjxb22wc2WvbZTuh/mTVgd36sXwwgwbOA6pO/vG/MSOjCYvhVKy7Bs4CHgf1jRkIKdeEPIsGzgFvAn0AfuSSsAdPAcQ6Z3ROK4FkAwA3gd6Cfvpej0Ce/as+A4z2OEcS7ACgnwTx8Age22r6J3BJiwp/OtyvKWAQAXCePBDfhEyjAK30lHAWeBvYfNHwCRXimqwR34RMoxDupElyGT6CYMRArwW34BAoaCzdpn6ztBX5vGj6BosZE20hwGz7MvqG2rrCzlkV1oIsE8/ABPlFf3B3LojrSdjlyFz7AE+oL/MlMwthGwm3aw9/DSfgAV+h27bRor4ATgXOJeapZ3Zg3kpMqyHPsw21rrwn/U4eYxwuLrdSiTifOAV+xD3mo8F1KuAR8wz7s5ZbrstPU9nF0OboAvMA+9JzhT5ndmIdYWcvGZeAx8IHmeYKH8FMeKcfMmDfSYlpduj7Pz7WesNL0XUyRhB7kWsmShA7kXkaUhARKreFKQgSlF9BLv3c0aoZ6e0ESGtghHP4u+Z5qtr0G+TLTcUbFVeAH9YGUeGOtaSSs7AiAegklXxdclrDS4VcsSij+rib/JCj8BTaZ3ROGWsm6xtKzob/uH+lby94dsAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAABwElEQVR4nO3dTUrDUBiF4aNo16Db0EFdkj/7rCJuRSnaeR1IoJTGm+R+3z1N+z6QmTQ35zUTUZQAAAAA4HgsJD1LepW0kbQdeW0krSQ9SbpufPbZu5X0ofGj913vkm6aPsGMLRQ7/m4E3oQBXhQ/fnc9NnyO2XpTXoBVw+eYrR/lBfhu+ByDXLgPcMA2+fOP6pkv3Qc4d1fuA0xQ+g7OfoNC8QaYEcCMAGYEMCOAGQHMCGBGADMCmBHAjABmBDAjgBkBzAhgRgAzApgRwIwAZgQwI4AZAcwIYBYZ4E7Sp+p/fTBb7fnWkpYNzjlJVISaQJn3PurxO9kRSs56/E5mhJKzH7+TFaGE8XdkRChh/D3REUoY/4DICCWM32NMhLWkh8B730v6GnHvkxu/44jA+HtaRmD8Hi0iMH5BZgTGHygjAuOPFBmB8SeKiMD4lWoiMH6QKREYP9hSf0MNHXTM1zL+QNE/wGP8CaIiMH6F2giMH2BqBMYPNDYC4ycYGoHxE5UiMH4DfREYv6H9CIxv0EVgfKOlGB8AAAAAgBkZ8t8ktumnOG3/bsxfypsRwIwAZgQwI4AZAcwIAAAAAACN/QLQrzPHwJLV2AAAAABJRU5ErkJggg==\"","import React from \"react\";\n\nconst Title = () => {\n  return (\n    <div className=\"title\">\n      <h1>FireGram</h1>\n      <h2>Your Pictures</h2>\n    </div>\n  );\n};\n\nexport default Title;\n","import * as firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport \"firebase/firestore\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyAb9YYXFLFY0JIx3oT8TQqN6uMNMJGb2u8\",\n  authDomain: \"vtx-firegram.firebaseapp.com\",\n  databaseURL: \"https://vtx-firegram.firebaseio.com\",\n  projectId: \"vtx-firegram\",\n  storageBucket: \"vtx-firegram.appspot.com\",\n  messagingSenderId: \"535422989495\",\n  appId: \"1:535422989495:web:82c403f5f4bafd0fdd0932\",\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst projectStorage = firebase.storage();\nconst projectFirestore = firebase.firestore();\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\nexport { projectStorage, projectFirestore, timestamp };\n","import { useState, useEffect } from \"react\";\nimport {\n  projectStorage,\n  projectFirestore,\n  timestamp,\n} from \"../firebase/config\";\n\nconst useStorage = (file) => {\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const [url, setUrl] = useState(null);\n\n  useEffect(() => {\n    // references\n    const storageRef = projectStorage.ref(file.name);\n    const collectionRef = projectFirestore.collection(\"images\");\n\n    storageRef.put(file).on(\n      \"state_changed\",\n      (snap) => {\n        let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n        setProgress(percentage);\n      },\n      (err) => {\n        setError(err);\n      },\n      async () => {\n        const url = await storageRef.getDownloadURL();\n        const createdAt = timestamp();\n        await collectionRef.add({ url, createdAt });\n        setUrl(url);\n      }\n    );\n  }, [file]);\n\n  return { progress, url, error };\n};\n\nexport default useStorage;\n","import React, { useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport useStorage from \"./../hooks/useStorage\";\n\nconst ProgressBar = ({ file, setFile }) => {\n  const { url, progress } = useStorage(file);\n  console.log(progress, url);\n\n  useEffect(() => {\n    if (url) {\n      setFile(null);\n    }\n  }, [url, setFile]);\n\n  return (\n    <motion.div\n      className=\"progress-bar\"\n      initial={{ width: 0 }}\n      animate={{ width: progress + \"%\" }}\n    ></motion.div>\n  );\n};\nexport default ProgressBar;\n","import React, { useState } from \"react\";\nimport ProgressBar from \"./ProgressBar\";\n\nconst UploadForm = () => {\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(null);\n\n  const types = [\"image/png\", \"image/jpeg\"];\n\n  const handleChange = (e) => {\n    let selected = e.target.files[0];\n\n    if (selected && types.includes(selected.type)) {\n      setFile(selected);\n      setError(\"\");\n    } else {\n      setFile(null);\n      setError(\"Please select an image file (png or jpg)\");\n    }\n  };\n\n  return (\n    <form>\n      <label>\n        <input type=\"file\" onChange={handleChange} />\n        <span>+</span>\n      </label>\n      <div className=\"output\">\n        {error && <div className=\"error\">{error}</div>}\n        {file && <div>{file.name}</div>}\n        {file && <ProgressBar file={file} setFile={setFile} />}\n      </div>\n    </form>\n  );\n};\n\nexport default UploadForm;\n","import { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"./../firebase/config\";\n\nconst useFirestore = (collection) => {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const unsub = projectFirestore\n      .collection(collection)\n      .orderBy(\"createdAt\", \"desc\")\n      .onSnapshot((snap) => {\n        let documents = [];\n        snap.forEach((doc) => {\n          documents.push({ ...doc.data(), id: doc.id });\n        });\n        setDocs(documents);\n      });\n    return () => unsub();\n  }, [collection]);\n\n  return { docs };\n};\n\nexport default useFirestore;\n","import React from \"react\";\nimport useFirestore from \"./../hooks/useFirestore\";\nimport { motion } from \"framer-motion\";\n\nconst ImageGrid = ({ setSelectedImg, setSelectedImgKey }) => {\n  const { docs } = useFirestore(\"images\");\n  // console.log(docs);\n\n  return (\n    <div className=\"img-grid\">\n      {docs &&\n        docs.map((doc) => (\n          <motion.div\n            layout\n            whileHover={{ opacity: 1 }}\n            className=\"img-wrap\"\n            key={doc.id}\n            onClick={() => {\n              setSelectedImg(doc.url);\n              setSelectedImgKey(doc.id);\n            }}\n          >\n            <motion.img\n              src={doc.url}\n              alt=\"image\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 1 }}\n            />\n          </motion.div>\n        ))}\n    </div>\n  );\n};\nexport default ImageGrid;\n","import React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { projectFirestore } from \"./../firebase/config\";\nimport deleteImg from \"../img/delete.png\";\nimport downloadImg from \"../img/download.png\";\n\nconst Modal = ({\n  selectedImg,\n  setSelectedImg,\n  selectedImgKey,\n  setSelectedImgKey,\n}) => {\n  // console.log(selectedImgKey);\n  const handleClick = (e) => {\n    if (e.target.classList.contains(\"backdrop\")) {\n      setSelectedImg(null);\n      setSelectedImgKey(null);\n    }\n  };\n  const handleDelete = () => {\n    projectFirestore\n      .collection(\"images\")\n      .doc(selectedImgKey)\n      .delete()\n      .then(function () {\n        setSelectedImg(null);\n        setSelectedImgKey(null);\n        console.log(\"Document successfully deleted!\");\n      })\n      .catch(function (error) {\n        console.error(\"Error removing document: \", error);\n      });\n  };\n  return (\n    <motion.div\n      className=\"backdrop\"\n      onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <div className=\"imgOptions\">\n        <div className=\"delete\" onClick={handleDelete}>\n          <img src={deleteImg} alt=\"delete\" />\n        </div>\n        <div className=\"download\">\n          <a href={selectedImg} download>\n            <img src={downloadImg} alt=\"download\" />\n          </a>\n        </div>\n      </div>\n\n      <motion.img\n        className=\"selectImg\"\n        src={selectedImg}\n        alt=\"enlarged image\"\n        initial={{ y: \"-100vh\" }}\n        animate={{ y: \"0\" }}\n      />\n    </motion.div>\n  );\n};\n\nexport default Modal;\n","import React, { useState } from \"react\";\nimport Title from \"./comps/Title\";\nimport UploadForm from \"./comps/UploadForm\";\nimport ImageGrid from \"./comps/imageGrid\";\nimport Modal from \"./comps/Modal\";\n\nfunction App() {\n  const [selectedImg, setSelectedImg] = useState(null);\n  const [selectedImgKey, setSelectedImgKey] = useState(null);\n  return (\n    <div className=\"App\">\n      <Title />\n      <UploadForm />\n      <ImageGrid\n        setSelectedImg={setSelectedImg}\n        setSelectedImgKey={setSelectedImgKey}\n      />\n      {selectedImg && (\n        <Modal\n          selectedImg={selectedImg}\n          setSelectedImg={setSelectedImg}\n          selectedImgKey={selectedImgKey}\n          setSelectedImgKey={setSelectedImgKey}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}